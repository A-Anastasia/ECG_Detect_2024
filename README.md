Находится все файлы процесса разработки. Web версия проекта сайта с методами анализа ЭКГ https://github.com/spark71/ecg-service.

## О данных:
- [PTB-XL, большой общедоступный набор данных электрокардиографии](https://physionet.org/content/ptb-xl/1.0.3/)
- [Крупномасштабная база данных электрокардиограмм в 12 отведениях для исследования аритмии](https://physionet.org/content/ecg-arrhythmia/1.0.0/)
- [MIMIC-IV-ECG: диагностическая электрокардиограмма, сопоставленная с подмножеством](https://physionet.org/content/mimic-iv-ecg/1.0/)


## Процесс разработки включает в себя [^1]:

1. Обработка данных
      - [Обработка массива диагностических показаний данных.](https://github.com/A-Anastasia/ECG_Detect_2024/blob/0a2e1638236b6c55e8b54400c847e3ed39da4c49/%D0%9E%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/ptb-mag-dataset-processing.ipynb)

         Данные о диагнозах в разных датаесетах представлены по разному. Ориентируясь на более упорядоченный вид в PTB-XL, в соответствии с описаниями в scp_statements выделила и преобразовала диагнозы из двух оставшихся в целевые переменные изменения форм-диагнозов и ритмов (Не всегда неправильные ритмы сердца являются диагнозом).
         
      - [Обработка ЭКГ сигналов - выделение параметров вариабельности.](https://github.com/A-Anastasia/ECG_Detect_2024/blob/2a8329c9a5ad65e1b29fbfb286643f4b54ae25fa/%D0%9E%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/ptb-mag-ecg-detected-hrv.ipynb)

         На основе сигналов ЭКГ частотой 500 гц были выделены параметры :
        - Зубцов и интервалов RR. Минимальные и максимальные параметры в Гц и Ms.
        - Временные и частотные. На основе RR вычисленны : стандартное отклонение NN (SDNN), квадратный корень из среднего квадра-тического различия между соседними NN-интервалами (RMSSD), общую ва-риабельность мощности (TP) и другие.
        - Спектральной плотности мощности (PSD).На основе ряда NNI(Normal to Normal Interval) с использованием метода Уэлча, Ломба и авторегрессии вычислены параметры для диапазонов очень низких частот (VLF), низких частот (LF) и высоких частот (HF).

Получились две таблицы данных:
- Данные диагнозов с 15-ю различными диагнозами в целевой переменной и  35939 строками. Столбцы были сокращены с помощью корреляционного анализа с 460 до 39. 
- Данные ритмов с 6-ю различными ритмами в целевой переменной и  42132 строками. Столбцы были сокращены с помощью корреляционного анализа с 460 до 41. 
   
2. Создание моделей определения диагнозов и ритмов 

Таблицы были центрированы, стандартизированы и сбалансированы KMeansSMOTE и BorderlineSMOTE.

 - [Для классификации диагнозов были использованы :](https://github.com/A-Anastasia/ECG_Detect_2024/blob/d90b1dcd518edcfdd7249a925bf15138c489a374/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D0%B5%D0%B9%20%D0%B4%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B8/ptb-mag-ecg-detect-diagnostic.ipynb)

     - LGBMClassifier
     - HistGradientBoostingClassifier
     - ExtraTreesClassifier
     - Sequential с использованием слоя LSTM
   
 - [Для классификации ритмов были использованы :](https://github.com/A-Anastasia/ECG_Detect_2024/blob/d90b1dcd518edcfdd7249a925bf15138c489a374/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D0%B5%D0%B9%20%D0%B4%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B8/ptb-mag-ecg-detect-rhythm.ipynb)

     - LGBMClassifier
     - LinearSVC
     - Sequential с использованием слоя LSTM 
   
   [Преобразование в формат ONNX для развертки и прогнозирования на другом пк локально](https://github.com/A-Anastasia/ECG_Detect_2024/blob/d90b1dcd518edcfdd7249a925bf15138c489a374/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D0%B5%D0%B9%20%D0%B4%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D0%BA%D0%B8/load-onnx-rename-uniques-df(%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B2%20%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%20onnx).ipynb)
   
4. [Прогнозирование ЭКГ](https://github.com/A-Anastasia/ECG_Detect_2024/blob/e653444e8de409a10b0050391f1b33b226f3d888/%D0%9F%D1%80%D0%BE%D0%B3%D0%BD%D0%BE%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%AD%D0%9A%D0%93/newnotebook-hrv.ipynb)
   
      - Функции встроенные в web сервис. Анализируют ЭКГ и прогнозируют заболевания.
[^1]: Более подробно рассмотрено в моей выпускной квалификационной работе https://drive.google.com/file/d/1u-IKszP-DGOCApUVH2aOsiPPls5dWSKy/view?usp=drive_link
